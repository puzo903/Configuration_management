Вариант 19. ИКБО-70-24. Подвиженко Артём Викторович.

## Этап 1: REPL (Read-Eval-Print Loop)

### Реализованная функциональность:

1. **Консольный интерфейс (CLI)**
   - Создано интерактивное приложение с циклом ввода-вывода
   - Реализована обработка пользовательского ввода в реальном времени

2. **Динамическое приглашение к вводу**
   - Формируется на основе реальных данных ОС: `username@hostname:directory$`
   - Используются системные вызовы для получения:
     - Имени пользователя (`getpass.getuser()`)
     - Имени хоста (`socket.gethostname()`)
     - Текущей директории (`os.getcwd()`)
   - Реализовано сокращение домашней директории до символа `~`

3. **Парсер команд**
   - Базовая обработка аргументов через `split()`
   - Поддержка разделения команд и аргументов

4. **Команды-заглушки**
   - `ls` - выводит список аргументов
   - `cd` - выводит целевой путь
   - `echo` - выводит текст после команды
   - `exit` - завершает работу эмулятора

5. **Обработка ошибок**
   - Вывод сообщения "command not found" для неизвестных команд
   - Корректное завершение программы

## Этап 2: Конфигурация

### Добавленная функциональность:

1. **Параметры командной строки**
   - `vfs_path` - путь к виртуальной файловой системе
   - `startup_script` - путь к стартовому скрипту
   - Значения по умолчанию при отсутствии аргументов

2. **Служебная команда `conf-dump`**
   - Вывод всех параметров эмулятора в формате ключ-значение
   - Отображает:
     - Путь к VFS
     - Путь к стартовому скрипту
     - Версию эмулятора
     - Информацию о пользователе и системе

3. **Обработка стартовых скриптов**
   - Созданы тестовые скрипты (`script1.sh`, `script2.sh`)
   - Скрипты содержат последовательности команд для тестирования
   - Включены как корректные команды, так и ошибочные для демонстрации обработки ошибок

4. **Автоматизация тестирования**
   - Создан `run.bat` для автоматического запуска тестов
   - Настройка кодировки UTF-8
   - Активация виртуального окружения
   - Запуск эмулятора с перенаправлением ввода из скриптов

## Этап 3: Виртуальная файловая система (VFS)  

### Добавленная функциональность:

1. **Подключение VFS**
   - Все операции с файлами и папками выполняются **в памяти**, исходные файлы на диске не модифицируются
   - Поддерживаются как **директории**, так и **файлы**, включая вложенные уровни
   - Источник VFS указывается через аргумент `vfs_path` при запуске эмулятора
   - Структура VFS загружается рекурсивно с реального диска в объекты `VFSNode`

2. **Работа с директориями**
   - Команды `ls` и `cd` работают исключительно внутри VFS
   - Поддерживаются относительные и абсолютные пути  
   - Реализована обработка `.` (текущая директория) и `..` (подъем на уровень выше)
   - Корень VFS всегда является директорией, даже если исходный путь содержит только файл

3. **Вывод содержимого файлов**
   - При старте эмулятора автоматически выводится `motd.txt`, если он существует в корне VFS

4. **Работа со скриптами**
   - Стартовый скрипт выполняется при запуске эмулятора  
   - Поддержка поочередного выполнения нескольких скриптов в одном сеансе  
   - Добавлены команды для загрузки VFS внутри скрипта (`load_vfs <путь>`) и запуска других скриптов (`run_script <скрипт>`)
   - Скрипты могут содержать команды `ls`, `cd`, `echo`, `cat`, а также проверки ошибок (`cd` в несуществующую директорию)

5. **Обработка путей в Windows**
   - Используется обратный слеш `\` для совместимости с файловой системой Windows  
   - Экранирование путей и использование сырых строк (`r"..."`) для корректной работы с кириллицей

6. **Тестирование всех уровней VFS**
   - Поддержка нескольких VFS для тестирования: `vfs_lv1`, `vfs_lv2`, `vfs_lv3`
   - Автоматическое выполнение тестов через главный скрипты
   - Скрипты демонстрируют:
     - Просмотр содержимого директорий (`ls`)   
     - Переход между папками (`cd`)  
     - Обработку ошибок для некорректных команд